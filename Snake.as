package {	import flash.display.Sprite;	import flash.events.*;	import flash.geom.Point;	public class Snake extends Sprite {		var head:Head;		var nose:Sprite;		var segments:Vector.<Segment> = new Vector.<Segment>();		var bones:Vector.<Bone> = new Vector.<Bone>();		var tail:Tail;		const defaultDistance:uint = 100;		public function Snake() {			addEventListener(Event.ADDED, init);		}		private function init(evt:Event):void {			removeEventListener(Event.ADDED, init);			build();			addEventListener(Event.ENTER_FRAME, update);					}				private function update(evt:Event):void{						nose.rotation = head.rotation;			for (var i:uint = 0; i < bones.length; i++){				bones[i].update();			}					}		private function build():void {						nose = new Sprite();			nose.visible = false;			nose.x = CONSTANTS.STAGEWIDTH/2;			nose.y = CONSTANTS.STAGEHEIGHT/2;			//nose.startDrag(true);			addChild(nose);			head = new Head();			addChild(head);						tail = new Tail();			addChild(tail);						var seg:Segment = new Segment();			segments.push(seg);			addChild(segments[0]);												var skull:Bone = new Bone(nose, head);			bones.push(skull);			var neck:Bone = new Bone(head, seg);			bones.push(neck);			var bone:Bone = new Bone(seg, tail);			bones.push(bone);			for (var i:uint = 0; i < 50; i++){				grow();			}		}				//inserts a new segment at the head		public function grow():void{			var seg:Segment = new Segment();			addChild(seg);			segments.push(seg);			var bone:Bone = new Bone(head, seg);			bones[1].head = seg;			bones.splice(1, 0, bone);			addChild(head);						}	}}