package {	import flash.display.Sprite;	import flash.events.Event;	import flash.events.MouseEvent;	import flash.geom.Point;	public class Tile extends Sprite {		private var _main:Main;		protected var edge:Boolean = true;		public function Tile(main:Main, x:int, y:int) {			this.x = x;			this.y = y;			this._main = main;						var randChange:Number = 1 + .1*Math.random();			graphics.beginFill(CONSTANTS.GREEN * randChange, 1);			graphics.drawRect(0, 0, main.tileSize, main.tileSize);						var rock:Rock = new Rock(new Rock1(), main);			rock.x = Math.random() * 800 + 100;			rock.y = Math.random() * 800 + 100;			rock.rotation = Math.random()*360;			addChild(rock);									if(Math.random() < .5){				spawnEgg();			}						addEventListener(Event.ENTER_FRAME, update);		}		private function spawnEgg():void{			var egg:Egg = new Egg(_main);			trace(_main);			egg.x = Math.random() * 800 + 100;			egg.y = Math.random() * 800 + 100;			egg.rotation = Math.random()*360;			addChild(egg);		}		private function update(evt:Event):void {			if (Math.abs(_main.currentTile.x - this.x) > 2000 || Math.abs(_main.currentTile.y - this.y) > 2000){				removeEventListener(Event.ENTER_FRAME, update);				_main.removeTile(this);				while(numChildren > 0){					removeChildAt(0);				}			}			if (_main.currentTile != this){				edge = true;			}						if (hitTestObject(_main.snake.head) && edge) {				edge = false;				_main.currentTile = this;				_main.populateNeighbors(this);			}		}	}}